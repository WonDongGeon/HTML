<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ex1.html</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <!-- 
        tableadd.html을 활용하여
        https://jsonplaceholder.typicode.com/posts
        주소의 데이터를 ajax통신을 이용하여 가져온 후
        테이블에 해당 리스트를 작성하시오
     -->
     <button>행추가</button>
     <div class="container">  
     <table border="1" class="table table-hover">
         <tbody>
             <tr class="table-primary"><th>사용자 아이디</th><th>아이디</th><th>제목</th><th>내용</th></tr>
         </tbody>
     </table>
     </div>
     <!-- 버튼 하나를 만들고 버튼을 클릭하면 tr의 한 행이 제목줄 아래에 추가되는 코드 작성 -->
     <script>
         let xhttp = new XMLHttpRequest();
         console.log(xhttp);
         xhttp.open("get", " https://jsonplaceholder.typicode.com/posts");
         xhttp.send();
         xhttp.onload = function() {
            console.log(xhttp.responseText);
            let jph = JSON.parse(xhttp.responseText);

            let table = document.querySelector("table"); // table 밑에 있는 tbody
            table.classList.add("table", "table-hover");
            var num = 0;
            var num2 = 0;
            let btn = document.querySelector("button");
            btn.addEventListener("click", function() { //button을 클릭했을 떄
             
             let tbody = document.querySelector("tbody");
 
             // <tr><td>1</td><td>제목</td></tr>
             //tr태그 1개 생성, td태그 2개 생성
             let row = document.createElement("tr");
 
             let cell1 = document.createElement("td");
             cell1.textContent = jph[num].userId
             row.appendChild(cell1); // 자식에 추가함
 
             let cell2 = document.createElement("td");
             cell2.textContent = jph[num].id
             row.appendChild(cell2); // 자식에 추가함

             let cell3 = document.createElement("td");
             cell3.textContent = jph[num].title
             row.appendChild(cell3); // 자식에 추가함

             let cell4 = document.createElement("td");
             cell4.textContent = jph[num++].body
             row.appendChild(cell4); // 자식에 추가함
             
             tbody.appendChild(row);
 
             
         })
         }
 
         /*
         추가구현사항 : td의 숫자를 증가시키기, 테이블 꾸미기(부스트랩), 클래스 추가하기
         td의 숫자를 증가시키기의 해결방법: 변수 활용
         테이블 꾸미기 : 부스트랩 cdn을 추가
         */
     </script>
</body>
</html>